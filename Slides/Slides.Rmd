---
title: "Excuse me, do you have a moment to talk about GitHub?"
subtitle: "Benefits and barriers to use of git and GitHub for not quite software projects"  
author: 
  - "Eric R. Scott"
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    nature:
      slideNumberFormat: "%current%"
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: true
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  cache = FALSE,
  echo = TRUE,
  message = FALSE, 
  warning = FALSE,
  hiline = TRUE
)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color = "#1381B0",
  secondary_color = "#FF961C",
  inverse_header_color = "#FFFFFF"
)
```
---
## Outline 

### 1. What is git / GitHub?



### 2. Some context for this talk



### 3. Benefits of using git / GitHub in ecology

  - Finding, re-using, and contributing to code

  - Backup and version control

  - Archiving and sharing code and data

  - As a collaboration hub

If you're a non-coder or a coder who has no bandwidth to learn new software, this talk is **still for you**!


---
## Git
.pull-left[
- **Version control** software

- Tracks *changes* to files, who made those changes, and *why*

- Enables sane management of complicated, evolving projects



#### Example **Repository**:

!["four files with icons and the following filenames: data_raw.csv, fig1.png, analysis.R, report.Rmd"](/images/ex_proj.png)
]
.pull-right[

#### Example Git Workflow:

1. You move code for figure from `analysis.R` to `report.Rmd` and delete `fig1.png`  

2. Save changes

3. Take a snapshot with a **commit**.  Must include message explaining changes!


<img src="/images/ex_commit.png" 
     alt="four files with icons and the following filenames: data_raw.csv, fig1.png, analysis.R, report.Rmd" />
]

---
## Git

So instead of this:
.pull-left[
![image of files named analysis_new.R, analysis_final.R, analysis_FINAL_FOR_REALZ.R, and analysis_EB_idea.R](/images/ex_messy.png)
]
.pull-right[
![commented-out R code starting with '#OLD CODE, might not work'](/images/ex_oldcode.png)
]

You have this:

![image of git commit history with commits "initial commit", "add summary table", "move fig1 code to report", "add linear model", "change to log-normal GLM"](/images/ex_hist.png)

---
## GitHub

- Website that hosts git repositories in a centralized place for cloud-backup, code discovery and sharing, and collaboration

- Web interface for git

- Repositories can be public or private

### Typical git/GitHub workflow:
1. Make changes to  code, text, etc. and save changes
2. Make a **commit** to record related changes
3. Make more changes, more commits
4. **Push** changes to GitHub to sync your project with **remote repository**
5. Collaborators (or you on a different computer) can **pull** changes to get most up-to-date version of project

---
## Collaborating with GitHub

GitHub also has features that help manage multiple people editing files.

- **Branches** can be used to independently make changes, like each co-author editing their own copy of a manuscript

- **Pull Requests** are a *request* that changes made in a branch are *pulled* into the main branch

- When pull requests are made, there are opportunities to view and review the changes, request further edits, and to deal with conflicts (e.g. someone already edited a line in a different way)


![A wide image with a diagram of branching in git.](https://docs.github.com/assets/images/help/repository/branching.png)

---
class: inverse center middle
# Context: why am I giving this talk?

---
### My git / GitHub journey

2017 — First ever commit.  Added function to query chemical IDs for flavors and aromas to the [`webchem` package](https://github.com/ropensci/webchem).   

2018 — Started using GitHub as a way to backup all my analyses

2019 — First time really using GitHub collaboratively. `webchem` maintainers invited me to apply for [R Consortium grant](https://www.r-consortium.org/projects/awarded-projects/2019-group-2#webchem:+accessing+chemical+information+from+the+web) with them.

2020 — Started collaboration on manuscripts via GitHub: [`webchem` manuscript](https://github.com/EDiLD/webchem_paper) and [first postdoc paper](https://github.com/BrunaLab/HeliconiaDemography) written in R Markdown collaboratively via GitHub

2021 — Mentored [REU students](https://github.com/BrunaLab/REU-resources) remotely using GitHub to share and review code and data

2021 — [SORTEE conference](https://www.sortee.org/past/).  Started work on [collaborative manuscript]() with working title:
"Not just for programmers: A friendly guide on the versatility/benefits of GitHub for accelerating collaborative research in Ecology and Evolution"

My inspriation for working on this paper:
- GitHub is great, but even better if you get buy-in from all collaborators.
- How to convince coders and non-coders to interact via GitHub?

---
class: inverse center middle
# Uses and Benefits of GitHub in Ecology


---
## Collaborative Data Analysis

Multiple people can be given permission to **push** changes to a GitHub repository

One option to get help with some code:

- I **push** R code to GitHub and ask Elizabeth to review it

- Elizabeth **clones** repository to her computer and runs the code

- Elizabeth adds some comments, fixes some mistakes, makes commits, **pushes** changes

- I then **pull** her changes and run updated code on my computer

#### This could be really useful for remote and bi-coastal advising on data analysis!

---
## Interacting with Published R Code

- Many R packages are developed collaboratively on GitHub

- Some manuscripts share code on GitHub

- Report bugs with **Issues**

- Ask for help in **Discussions**

- Copy and edit code by **forking** repository

- Make contributions with **pull requests**

---
## Archiving Data and Code

- While GitHub is *not* recommended for long-term archiving data and code, it integrates with FigShare and Zenodo

- More reliable and re-usable than supplying supplemental code as an attachment

- Literally just flip a switch on Zenodo, then create a **release** on GitHub and the whole repository is archived and given a DOI

[![](/images/ex_doi.png)](https://github.com/Aariq/PCA-vs-PLS)

---
## Websites

GitHub pages is a feature that will turn any .md or .html file on GitHub into a website with a URL

#### Uses from simple to complex:

- knit R Markdown report to html, send link to your collaborators or advisor (e.g. https://brunalab.github.io/heliconia-cmip/)

- Use to host slides made in R Markdown (like these ones!)

- Create a website summarizing a project or manuscript (e.g. https://lter.github.io/lterdatasampler/)

- Use to host a [personal](https://github.com/Aariq/website-v2) or [lab website](https://github.com/weecology/website) or blog


---
## Manuscripts
.pull-left[
Although it's not really it's *intended* use, GitHub can be used effectively for collaborative writing.

Some caveats:

- git only tracks differences in *plain text*, so .docx files won't work well
- Not synchronous like Google Docs
- not as easy to add comments like in Word
]

.pull-right[
Alternative: Markdown is plain text, but allows for simple formatting and citations:

```
# Heading
## Subheading
```
#### Heading
##### Subheading

```
**bold**, *italics*
```
**bold**, *italics*
```
$y = mx + \beta$
```

$y = mx + \beta$

]
---
name: colors

## Colors

.left-column[
Text color

[Link Color](#3)

**Bold Color**

_Italic Color_

`Inline Code`
]

.right-column[
Lorem ipsum dolor sit amet, [consectetur adipiscing elit (link)](#3), 
sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
Erat nam at lectus urna.
Pellentesque elit ullamcorper **dignissim cras tincidunt (bold)** lobortis feugiat. 
_Eros donec ac odio tempor_ orci dapibus ultrices. 
Id porta nibh venenatis cras sed felis eget velit aliquet.
Aliquam id diam maecenas ultricies mi.
Enim sit amet 
`code_color("inline")`
venenatis urna cursus eget nunc scelerisque viverra.
]

---

# Big Topic or Inverse Slides `#`

## Slide Headings `##`

### Sub-slide Headings `###`

#### Bold Call-Out `####`

This is a normal paragraph text. Only use header levels 1-4.

##### Possible, but not recommended `#####`

###### Definitely don't use h6 `######`

---

# Left-Column Headings

.left-column[
## First

## Second

## Third
]

.right-column[
Dolor quis aptent mus a dictum ultricies egestas.

Amet egestas neque tempor fermentum proin massa!

Dolor elementum fermentum pharetra lectus arcu pulvinar.
]

---
class: inverse center middle

# Topic Changing Interstitial

--

```
class: inverse center middle
```

---
layout: true

## Blocks

---

### Blockquote

> This is a blockquote following a header.
>
> When something is important enough, you do it even if the odds are not in your favor.

---

### Code Blocks

#### R Code

```{r eval=FALSE}
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp, size = pop, color = country) +
  geom_point() +
  facet_wrap(~year)
```

#### JavaScript

```js
var fun = function lang(l) {
  dateformat.i18n = require('./lang/' + l)
  return true;
}
```

---

### More R Code

```{r eval=FALSE}
dplyr::starwars %>% dplyr::slice_sample(n = 4)
```

---

```{r message=TRUE, eval=requireNamespace("cli", quietly = TRUE)}
cli::cli_alert_success("It worked!")
```

--

```{r message=TRUE}
message("Just a friendly message")
```

--

```{r warning=TRUE}
warning("This could be bad...")
```

--

```{r error=TRUE}
stop("I hope you're sitting down for this")
```


---
layout: true

## Tables

---
exclude: `r if (requireNamespace("tibble", quietly=TRUE)) "false" else "true"`

```{r eval=requireNamespace("tibble", quietly=TRUE)}
tibble::as_tibble(mtcars)
```

---

```{r}
knitr::kable(head(mtcars), format = 'html')
```

---
exclude: `r if (requireNamespace("DT", quietly=TRUE)) "false" else "true"`

```{r eval=requireNamespace("DT", quietly=TRUE)}
DT::datatable(head(mtcars), fillContainer = FALSE, options = list(pageLength = 4))
```

---
layout: true

## Lists

---

.pull-left[
#### Here is an unordered list:

*   Item foo
*   Item bar
*   Item baz
*   Item zip
]

.pull-right[

#### And an ordered list:

1.  Item one
1.  Item two
1.  Item three
1.  Item four
]

---

### And a nested list:

- level 1 item
  - level 2 item
  - level 2 item
    - level 3 item
    - level 3 item
- level 1 item
  - level 2 item
  - level 2 item
  - level 2 item
- level 1 item
  - level 2 item
  - level 2 item
- level 1 item

---

### Nesting an ol in ul in an ol

- level 1 item (ul)
  1. level 2 item (ol)
  1. level 2 item (ol)
    - level 3 item (ul)
    - level 3 item (ul)
- level 1 item (ul)
  1. level 2 item (ol)
  1. level 2 item (ol)
    - level 3 item (ul)
    - level 3 item (ul)
  1. level 4 item (ol)
  1. level 4 item (ol)
    - level 3 item (ul)
    - level 3 item (ul)
- level 1 item (ul)

---
layout: true

## Plots

---

```{r plot-example, eval=requireNamespace("ggplot2", quietly=TRUE)}
library(ggplot2)
(g <- ggplot(mpg) + aes(hwy, cty, color = class) + geom_point())
```

---

```{r plot-example-themed, eval=requireNamespace("showtext", quietly=TRUE) && requireNamespace("ggplot2", quietly=TRUE)}
g + xaringanthemer::theme_xaringan(text_font_size = 16, title_font_size = 18) +
  ggtitle("A Plot About Cars")
```

.footnote[Requires `{showtext}`]

---
layout: false

## Square image

<center><img src="https://octodex.github.com/images/labtocat.png" alt="GithHub Octocat" height="400px" /></center>

.footnote[GitHub Octocat]

---

### Wide image

![A wide image with a diagram of branching in git.](https://docs.github.com/assets/images/help/repository/branching.png)

.footnote[Wide images scale to 100% slide width]

---

## Two images

.pull-left[
![A GitHub Octocat, style "mother hubber"](https://octodex.github.com/images/motherhubbertocat.png)
]

.pull-right[
![A GitHub Octocat, style "dinotcat"](https://octodex.github.com/images/dinotocat.png)
]

---

### Definition lists can be used with HTML syntax.

<dl>
<dt>Name</dt>
<dd>Godzilla</dd>
<dt>Born</dt>
<dd>1952</dd>
<dt>Birthplace</dt>
<dd>Japan</dd>
<dt>Color</dt>
<dd>Green</dd>
</dl>

---
class: center, middle

# Thanks!

Slides created via the R packages:

[**xaringan**](https://github.com/yihui/xaringan)<br>
[gadenbuie/xaringanthemer](https://github.com/gadenbuie/xaringanthemer)

The chakra comes from [remark.js](https://remarkjs.com), [**knitr**](http://yihui.name/knitr), and [R Markdown](https://rmarkdown.rstudio.com).
